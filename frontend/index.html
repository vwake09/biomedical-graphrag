<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biomedical GraphRAG | Knowledge Discovery</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Animated background -->
    <div class="bg-animation">
        <div class="helix-container">
            <svg class="dna-helix" viewBox="0 0 200 600" preserveAspectRatio="none">
                <defs>
                    <linearGradient id="helixGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00f5d4;stop-opacity:0.8" />
                        <stop offset="100%" style="stop-color:#7b2cbf;stop-opacity:0.4" />
                    </linearGradient>
                    <linearGradient id="helixGrad2" x1="100%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#f72585;stop-opacity:0.6" />
                        <stop offset="100%" style="stop-color:#4cc9f0;stop-opacity:0.3" />
                    </linearGradient>
                </defs>
                <path class="helix-strand strand-1" d="M100,0 Q150,50 100,100 Q50,150 100,200 Q150,250 100,300 Q50,350 100,400 Q150,450 100,500 Q50,550 100,600" fill="none" stroke="url(#helixGrad1)" stroke-width="3"/>
                <path class="helix-strand strand-2" d="M100,0 Q50,50 100,100 Q150,150 100,200 Q50,250 100,300 Q150,350 100,400 Q50,450 100,500 Q150,550 100,600" fill="none" stroke="url(#helixGrad2)" stroke-width="3"/>
                <!-- Base pairs -->
                <g class="base-pairs">
                    <line x1="60" y1="50" x2="140" y2="50" stroke="#00f5d4" stroke-width="1.5" opacity="0.5"/>
                    <line x1="70" y1="100" x2="130" y2="100" stroke="#f72585" stroke-width="1.5" opacity="0.5"/>
                    <line x1="60" y1="150" x2="140" y2="150" stroke="#4cc9f0" stroke-width="1.5" opacity="0.5"/>
                    <line x1="70" y1="200" x2="130" y2="200" stroke="#7b2cbf" stroke-width="1.5" opacity="0.5"/>
                    <line x1="60" y1="250" x2="140" y2="250" stroke="#00f5d4" stroke-width="1.5" opacity="0.5"/>
                    <line x1="70" y1="300" x2="130" y2="300" stroke="#f72585" stroke-width="1.5" opacity="0.5"/>
                    <line x1="60" y1="350" x2="140" y2="350" stroke="#4cc9f0" stroke-width="1.5" opacity="0.5"/>
                    <line x1="70" y1="400" x2="130" y2="400" stroke="#7b2cbf" stroke-width="1.5" opacity="0.5"/>
                    <line x1="60" y1="450" x2="140" y2="450" stroke="#00f5d4" stroke-width="1.5" opacity="0.5"/>
                    <line x1="70" y1="500" x2="130" y2="500" stroke="#f72585" stroke-width="1.5" opacity="0.5"/>
                    <line x1="60" y1="550" x2="140" y2="550" stroke="#4cc9f0" stroke-width="1.5" opacity="0.5"/>
                </g>
            </svg>
        </div>
        <div class="floating-particles"></div>
    </div>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 40 40" fill="none">
                    <circle cx="20" cy="20" r="18" stroke="url(#logoGrad)" stroke-width="2" fill="none"/>
                    <circle cx="20" cy="12" r="4" fill="#00f5d4"/>
                    <circle cx="12" cy="24" r="4" fill="#f72585"/>
                    <circle cx="28" cy="24" r="4" fill="#4cc9f0"/>
                    <line x1="20" y1="16" x2="14" y2="21" stroke="#00f5d4" stroke-width="1.5"/>
                    <line x1="20" y1="16" x2="26" y2="21" stroke="#00f5d4" stroke-width="1.5"/>
                    <line x1="14" y1="24" x2="26" y2="24" stroke="#f72585" stroke-width="1.5"/>
                    <defs>
                        <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00f5d4"/>
                            <stop offset="100%" style="stop-color:#f72585"/>
                        </linearGradient>
                    </defs>
                </svg>
                <div class="logo-text">
                    <span class="logo-title">BioGraphRAG</span>
                    <span class="logo-subtitle">Knowledge Discovery Engine</span>
                </div>
            </div>
            <div class="header-stats">
                <div class="stat-pill">
                    <span class="stat-icon">ðŸ“„</span>
                    <span class="stat-value" id="paper-count">1,000</span>
                    <span class="stat-label">Papers</span>
                </div>
                <div class="stat-pill">
                    <span class="stat-icon">ðŸ§¬</span>
                    <span class="stat-value" id="gene-count">1,374</span>
                    <span class="stat-label">Genes</span>
                </div>
                <div class="stat-pill">
                    <span class="stat-icon">ðŸ”—</span>
                    <span class="stat-value" id="citation-count">33K</span>
                    <span class="stat-label">Citations</span>
                </div>
            </div>
        </header>

        <!-- Main content -->
        <main class="main-content">
            <!-- Query Section -->
            <section class="query-section">
                <h1 class="section-title">
                    <span class="title-accent">Explore</span> Biomedical Research
                </h1>
                <p class="section-description">
                    Ask questions about CRISPR, gene editing, immunotherapy, and more. 
                    Our hybrid system combines semantic search with knowledge graph reasoning.
                </p>

                <div class="query-box">
                    <div class="query-type-toggle">
                        <button class="toggle-btn active" data-type="hybrid">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="6" cy="6" r="3"/>
                                <circle cx="18" cy="18" r="3"/>
                                <circle cx="6" cy="18" r="3"/>
                                <circle cx="18" cy="6" r="3"/>
                                <line x1="8.5" y1="8.5" x2="15.5" y2="15.5"/>
                                <line x1="8.5" y1="15.5" x2="15.5" y2="8.5"/>
                            </svg>
                            <span>Hybrid Query</span>
                            <span class="toggle-badge">Neo4j + Qdrant</span>
                        </button>
                        <button class="toggle-btn" data-type="vector">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                                <line x1="12" y1="22.08" x2="12" y2="12"/>
                            </svg>
                            <span>Vector Search</span>
                            <span class="toggle-badge">Qdrant Only</span>
                        </button>
                    </div>

                    <div class="input-wrapper">
                        <textarea 
                            id="query-input" 
                            placeholder="Ask a biomedical research question...

Example: Who collaborates with Jennifer Doudna on CRISPR research?"
                            rows="3"
                        ></textarea>
                        <button id="submit-btn" class="submit-btn">
                            <svg class="submit-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"/>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                            </svg>
                            <span>Search</span>
                        </button>
                    </div>

                    <div class="example-queries">
                        <span class="example-label">Try:</span>
                        <button class="example-btn" data-query="What are the latest research trends in CRISPR gene editing?">CRISPR trends</button>
                        <button class="example-btn" data-query="Which genes are frequently co-mentioned with TP53 in cancer research?">TP53 genes</button>
                        <button class="example-btn" data-query="What papers discuss the ethical implications of germline editing?">Germline ethics</button>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="results-section">
                <!-- Loading state -->
                <div class="loading-state" id="loading-state">
                    <div class="loading-spinner">
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                    </div>
                    <p class="loading-text">Searching knowledge graph...</p>
                    <p class="loading-subtext" id="loading-step">Retrieving relevant documents</p>
                </div>

                <!-- Results content -->
                <div class="results-content" id="results-content">
                    <div class="results-header">
                        <h2 class="results-title">
                            <span class="result-icon">âœ¨</span>
                            Research Insights
                        </h2>
                        <div class="results-meta">
                            <span class="meta-badge" id="query-type-badge">Hybrid</span>
                            <span class="meta-time" id="query-time"></span>
                        </div>
                    </div>

                    <div class="answer-card" id="answer-card">
                        <div class="answer-content" id="answer-content"></div>
                    </div>

                    <!-- Sources -->
                    <div class="sources-section" id="sources-section">
                        <h3 class="sources-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                            </svg>
                            Source Papers
                        </h3>
                        <div class="sources-grid" id="sources-grid"></div>
                    </div>

                    <!-- Neo4j Enrichment -->
                    <div class="enrichment-section" id="enrichment-section">
                        <h3 class="enrichment-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <circle cx="12" cy="12" r="4"/>
                                <line x1="4.93" y1="4.93" x2="9.17" y2="9.17"/>
                                <line x1="14.83" y1="14.83" x2="19.07" y2="19.07"/>
                                <line x1="14.83" y1="9.17" x2="19.07" y2="4.93"/>
                                <line x1="4.93" y1="19.07" x2="9.17" y2="14.83"/>
                            </svg>
                            Graph Enrichment
                        </h3>
                        <div class="enrichment-content" id="enrichment-content"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Powered by <strong>Neo4j</strong> Knowledge Graph + <strong>Qdrant</strong> Vector Search + <strong>OpenAI</strong></p>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>

